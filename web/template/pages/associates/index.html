<div class="container">
    <h2>{{ .Title }}</h2>
    <p>A simple CRUD interface powered by Go, Fiber, and HTMX.</p>

    <div class="card">
        <h3>Add New Associate</h3>
        <form 
			class="form-inline"
            hx-post="/users" 
            hx-target="#user-table-body" 
            hx-swap="afterbegin"
            hx-on::after-request="if(event.detail.successful) this.reset()"
        >
            <!-- Gorilla CSRF requires the token to be in the form body -->
            <input type="hidden" name="gorilla.csrf.Token" value="{{ .CSRFToken }}">

			<!-- label class="sr-only" for="inlineFormInpuFirstName">FistName</label -->
			<input type="text" class="form-control mb-2 mr-sm-2" id="inlineFormInpuFirstName" placeholder="First Name" name="first_name" required>

			<!-- label class="sr-only" for="inlineFormInpuLastName">LastName</label -->
			<input type="text" class="form-control mb-2 mr-sm-2" id="inlineFormInpuLastName"  placeholder="Last Name"  name="last_name"  required>

			<!-- label class="sr-only" for="inlineFormInputGroupEmail">Email</label -->
			<div class="input-group mb-2 mr-sm-2">
				<div class="input-group-prepend">
					<div class="input-group-text">@</div>
				</div>
				<input type="text" class="form-control" id="inlineFormInputGroupEmail" placeholder="Email" name="email" required>
			</div>

			<!-- label class="sr-only" for="inlineFormInputGroupCell">Cell</label -->
			<div class="input-group  mb-2 mr-sm-2">
				<span class="input-group-text" id="basic-addon1">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-phone" viewBox="0 0 16 16">
						<path d="M11 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"></path>
						<path d="M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path>
					</svg>
				</span>
				<input type="text" class="form-control" id="inlineFormInputGroupCell" placeholder="Cell" aria-label="Cell" aria-describedby="basic-addon1">
			</div>

			<!-- label class="sr-only" for="inlineFormInpuLastName">Password</label -->
			<div class="mb-3">
				<!-- label class="form-label" for="exampleForm.ControlInput1">Email address</label -->
				<input type="email" class="form-control" id="inlineFormInputGroupEmail" placeholder="name@example.com"  aria-describedby="basic-addon1">
				<small class="text-muted form-text">8-20 characters long, at least one letters, number, special characters; no spaces nor emojis.</small>
			</div>


			<div class="input-group mb-2 mr-sm-2">
				<button type="submit" class="btn btn-primary mb-2">Submit</button>
			</div>

        </form>
    </div>

    <h3>Existing Associates</h3>
    <table class="user-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="user-table-body">
            {{ range .Associates }}
                {{ template "partials/associates/associate-row" . }}
            {{ end }}
        </tbody>
    </table>
</div>
